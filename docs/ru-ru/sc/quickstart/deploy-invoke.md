# Развертывание и вызов смарт-контрактов 

В этом разделе описывается, как разворачивать и вызывать смарт-контракт в блокчейне NEO с использованием NEO-GUI. Поскольку данные инструкции носят общий характер, они могут быть применены ко всем типам контрактов, включая токены NEP-5.
 
## Прежде, чем вы начнете

Убедитесь, что вы выполнили следующие действия:

- Убедились, что ваш контракт нужно развернуть в блокчейн. Дополнительную информацию см. в [Which smart contracts need to be deployed](overview.md##deploying-smart-contracts).
- Скомпилировали файл контракта .avm.
- Установили NEO-GUI и дождались синхронизации блокчейна. Дополнительную информацию см. в [NEO-GUI](../../node/gui/install.md).

## Развертывание смарт-контракта 

1. В NEO-GUI кликните `Advanced` -> `Deploy Contract`。

2. В диалоговом окне `Deploy Contract` кликните `Load` и выберите файл смарт-контракта, который вы скомпилировали.

   В поле кода загружен хэш скрипта контракта. Скопируйте его для использования в следующем шаге.

3. Укажите информацию и поля метаданных.

   Параметры, связанные с метаданными, см. в [Parameters and Return Values](../Parameter.md).

   При необходимости проверьте наличие опции `Need Storage`. Стандарт NEP5 использует хранилище (storage) для ведения счетов, поэтому убедитесь в наличии данной опции при развертывании токена NEP5.

4. Кликните `Deploy`.

   Развертывание смарт-контракта стоит 100-1000 GAS. Дополнительную информацию см. в [System Fees](../systemfees.md).

## Присвоение адреса смарт-контракту  

Если контракт будет получать активы, то вам необходимо создать счет смарт-контракта, используя хэш скрипта контракта.

1. После создания кошелька в NEO-GUI, щелкните правой кнопкой мыши по области адреса и выберите `Create Contract Address` -> `Custom`.
2. Укажите следующие опции：
   a. `Parameter List`： см. [Parameters and Return Values](../Parameter.md)
   b. `Script`：введите хэш скрипта контракта, который вы скопировали ранее. 
   c. `Private Key`：опционально. Укажите приватный ключ, используемый для подписи (если это требуется во время выполнения контракта).
3. Кликните `Confirm`.

## Вызов смарт-контракта

### Вызов одного контракта из другого 

Для того чтобы вызвать один контракт из другого, необходимо сначала добавить внешнюю функцию на C#, используя Appcall, и хэш скрипта контракта, который будет вызван. После выполнения данных операций вы можете вызвать контракт программно. 

```c#
[Appcall("XXXXXXXXXX")]//ScriptHash
public static extern int AnotherContract(string arg);

public static void Main()
{
    AnotherContract("Hello");    
}
```

### Вызов контракта, развернутого в блокчейне

Чтобы вызвать смарт-контракт, который был развернут в блокчейне, выполните следующие действия:

1. В NEO-GUI щелкните правой кнопкой мыши по адресу контракта и выберите  `View Contract`. 

2. Скопируйте значение в поле Script Hash.

3. В меню кликните`Advanced` и выберите `Invoke Contract`.

4. Введите в поле `Script Hash` значение, скопированное в шаге 2.

   Информация о смарт-контракте должна быть автоматически внесена в оставшиеся поля `Invoke Function`.

5. Кликните `Test `, чтобы выполнить контракт в тестовой среде. Если вы не получили ошибок, кликните по`Invoke`.

Для вызова контракта вы можете использовать также метод NEO-CLI [invoke method](../../node/cli/latest-version/api/invoke.md).